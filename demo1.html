<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Axease - Demo 1</title>

  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/3.0.3/normalize.min.css">
  <style>
    html, body {
      background: black;
    }
    section {
      border: 0;
      margin: 0;
      padding: 0;

      display: block;
      min-height: 60vh;
      overflow: hidden;

      font-family: monospace;
      font-weight: bold;
      font-size: 18px;

      background-color: rgb(124, 228, 247);
    }
    .midpoint {
      position: fixed;
      top: 50%;
      width: 100%;
      height: 0px;
      border-top: 2px dashed black;
    }
  </style>
</head>
<body>
  <div class="midpoint"></div>

  <section>
    <p>Keep scrolling</p>
    <figure><img src="http://lorempixel.com/g/720/720/cats/Placeholder/"/></figure>
  </section>
  <section id="scrolly">Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section>Keep scrolling</section>
  <section></section>
  <section></section>

  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.1/tinycolor.min.js"></script>

  <script type="text/javascript" src="src/solo.js"></script>
  <script type="text/javascript" src="src/axease.js"></script>

  <script>

    $.fps = 30;

    // Color lerp

    $(["section"]).forEach(function(el, i) {
      var startColor = tinycolor("rgb(124, 228, 247)");
      var endColor = tinycolor("rgb(118, 180, 183)");

      el.style["background-color"] = startColor.toRgbString();

      $.ax.addScrollAnimation({
        containerEl: el,
        visibleEl: el,

        relativeTo: 'center',
        clamp: true,
        anchor: 'bottom',

        draw: function(relativeY) {
          var shift = (Math.min(1, (1 - relativeY)) * 100);
          var newColor = tinycolor.mix(startColor, endColor, shift);
          el.style["background-color"] = newColor.toRgbString();
        }
      });
    });

    $.ax.addAnimation({
      frames: 10,
      duration: 1,

      loop: true,
      pingpong: true,

      update: function(frame) {
        // console.log(frame);
      }
    });

  </script>
</body>
</html>