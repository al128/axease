!function(n){var i=window.___$solo,o=i;return i[n]=o,o._createAnimation=function(n){var i=n.pingpong,o=n.hasOwnProperty("loop")?n.loop:!0,t=n.hasOwnProperty("duration")&&n.duration?1e3*n.duration/n.frames:n.interval||1e3,e={update:n.update,draw:n.draw,onScroll:n.onScroll,onChange:n.onChange,visibleEl:n.visibleEl,onEnter:n.onEnter,onExit:n.onExit,onVisible:n.onVisible,onHidden:n.onHidden,loop:o,pingpong:i,frames:n.frames,frame:0,direction:1,interval:t,onStart:n.onStart,onFinish:n.onFinish,onRestart:n.onRestart,onPingPong:n.onPingPong,flip:n.flip||!1,abs:n.abs||!1,clamp:n.clamp||!1,midpoint:n.anchor||n.midpoint||"center",relativeTo:n.relativeTo||"viewport",containerEl:n.containerEl,containerPosition:"",containerVisibility:null,onCenter:n.onCenter};return e},o._animations=[],o.addAnimation=function(n){if(n&&n.frames){var t=o._createAnimation(n),e={};t.visibleEl&&(e.visible=t.visibleEl);var r=t.onEnter||t.onExit?function(){o._preUpdate(t)}:!1,a=i.addUpdate({numTimes:t.loop?-1:t.pingpong?2*t.frames-1:t.frames,interval:t.interval,run:!1,requirements:e,preUpdate:r,update:function(){return t.started&&(t.pingpong&&t.frame<=0&&(t.direction=1,"function"==typeof t.onRestart&&t.onRestart()),t.frame+=t.direction,t.frame>=t.frames&&(t.pingpong?(t.frame=t.frames-2,t.direction=-1,"function"==typeof t.onPingPong&&t.onPingPong()):(t.frame=0,"function"==typeof t.onRestart&&t.onRestart()))),t.started=!0,"function"==typeof t.update&&t.update(t.frame),!0}});t.updateID=a,o._animations.push(t)}},o._scrollAnimations=[],o.addScrollAnimation=function(n){if(n&&n.containerEl){var t=o._createAnimation(n),e=t.onEnter||t.onExit?function(){o._preUpdate(t)}:!1,r=i.addUpdate({run:n.hasOwnProperty("run")?n.run:!0,requirements:{scrolled:!0,visible:t.visibleEl},preUpdate:e,draw:function(){var n=o._updateScrollAnimation(t);"function"==typeof t.onScroll&&t.onScroll(n)}});t.updateID=r,o._scrollAnimations.push(t)}},o._preUpdate=function(n){var i=n.visibleEl,o=n.containerEl;if(i){var t=i.isVisible();"function"==typeof n.onVisible&&t&&n.visibleElVisibility!==t&&n.onVisible(),"function"==typeof n.onHidden&&(t||n.visibleElVisibility===t||n.onHidden()),n.visibleElVisibility=t}if(o){var t=o.isVisible();"function"==typeof n.onEnter&&t&&n.containerElVisibility!==t&&n.onEnter(),"function"==typeof n.onExit&&(t||n.containerElVisibility===t||n.onExit()),n.containerElVisibility=t}},o._updateScrollAnimation=function(n){var o=n.containerEl,t=o.getTop(),e=o.getBounds(),r=(e.width,e.height),a=.5*r,l=t+a,s=.5*i.screenHeight,c=i.scrollY;switch(n.midpoint){case"top":break;case"center":c+=s;break;case"bottom":c+=i.screenHeight}var p=c-l,f=0>=p?"below":"above",d=0,u=n.flip?-1:1,m=0;"viewport"===n.relativeTo&&(m=s);var b=l,v=(b-c)/(m+a);return d=v*u,n.clamp&&(d=Math.max(-1,Math.min(1,d))),n.abs&&(d=Math.abs(d)),5>=p&&f!==n.containerPosition&&n.containerPosition&&""!==n.containerPosition&&"function"==typeof n.onCenter&&n.onCenter(),n.containerPosition=f,d},o}("ax");